# AkMon — AkShare 驱动的行情监控与提醒

## 快速开始
```bash
make venv
make install
cp .env.example .env
cp configs/app.example.yaml configs/app.yaml
make run
```

## 做了什么
- 采集：AkShare 接口（A股/期货）
- 指标：基差/贴水率等
- 触发：阈值/表达式规则
- 通知：企业微信机器人（可扩展）
- 查询：FastAPI/静态页


# 我的需求
1.我想让你从AkShare 项目,调取股指期货的当天盘中实时数据的接口
2.调取接口后,在网页上可以选择当前到过去5年历史的IC合约名称,比如IC2509表示25年9月份到期的IC合约.
3.当选择完相应合约月份后,网页上图1呈现ic合约和当时那个时刻的中证500指数基差,从这个合约开始到合约结束(如果合约未到期者截止到当前)的走势图(类似股市的蜡烛图,要基差最高最低,基差开盘和收盘点位)
4.页面图2,从这个合约开始到合约结束(如果合约未到期者截止到当前)的基差,与过去5年的基差最大最小值做对比得出的在过去5年的百分位水平,显示百分位水平随时间变化趋势.
5.页面图3,从这个合约开始到合约结束(如果合约未到期者截止到当前)的基差说所对应的贴水率,与过去5年的贴水率最大最小值做对比得出的在过去5年的百分位水平,显示百分位水平随时间变化趋势.
6.首先开发一个网页端的demo,我希望能在网页端输入IC贴水基差h或者贴水率的预警阈值,可以选择是上穿还是下穿这个阈值,然后上述图1和2和3用颜色标注出超过这个阈值的时间段,并且显示超过这个阈值的时间段有多少个交易日,超过这个阈值的时间段占过去5年基差或者贴水率超过这个阈值的时间段的比例.
7.做一个让用户输入自定义邮箱的输入框,当超过这个阈值时,通过邮箱发送邮件通知用户.(需要你找到能自动触发邮件订阅和提醒的github库或接口).


#第一轮沟通后的补充细节:
1. __数据细节__：

   - IC合约基差是如何计算的？(期货价格 - 中证500指数价格)
   - 需要获取哪些具体字段？(开盘价、收盘价、最高价、最低价、成交量,成交金额)
   - 历史数据需要什么频率？(日线)
   - 百分位计算使用多长的滚动窗口？(1年,3年,5年可以手动选择)

2. __功能实现__：

   - 预警阈值是实时触发还是定时检查？(定时检查,最小时间单位可以是1分钟,5分钟,10分钟,30分和1小时)
   - 邮件通知计划使用哪种方式？(第三方服务如SendGrid、Mailgun等)
   - 图表需要哪些交互功能？(缩放、悬停显示数值、时间范围选择等,参考https://github.com/Pikady/stock-analysis-demo.git)

3. __UI/UX__：

   - 三个图表的具体布局和尺寸要求？(参考https://github.com/Pikady/stock-analysis-demo.git)
   - 阈值设置界面的具体交互方式？(文本框人工输入)
   - 是否需要数据导出功能？(需要)

4. __扩展性__：

   - 未来是否需要支持其他期货品种？(需要)
   - 是否需要用户权限管理？(需要做权限管理,请设置一个网页端的管理员账号,用于管理用户和权限,以及设置预警阈值)



